# config.yaml
# Configurações de processamento
processing:
  # Tamanho do batch para inferência de landmarks em CPU (padrão: 1)
  cpu_batch_size: 1
  # Tamanho do batch para inferência de landmarks em GPU (padrão: 32)
  gpu_batch_size: 32
  # GPUs a serem utilizadas (separadas por vírgula, ex: 0,1,2). Distribuição round-robin entre câmeras
  gpu_devices: "0"

# Otimizações de performance
performance:
  # Processa detecções a cada N frames (1 = todos os frames)
  detection_skip_frames: 2
  # Resolução de inferência (640, 1280). Menor = mais rápido
  inference_size: 1280

# Configuração do modelo de detecção de faces
modelo_deteccao:
  # Caminho do modelo YOLO para detecção facial
  model_path: "yolo-models/yolov12n-face.pt"
  # Confiança mínima para considerar uma detecção válida
  confidence_threshold: 0.1
  # IOU threshold para NMS (Non-Maximum Suppression)
  iou_threshold: 0.55
  # Modelo de rastreamento (bytetrack.yaml ou deep_sort.yaml)
  tracker: "bytetrack.yaml"
  # Persistir tracks entre streams (false = reseta IDs a cada reinício)
  persist: false

# Configuração do modelo de landmarks faciais
modelo_landmark:
  # Caminho do modelo YOLO para detecção de landmarks (keypoints)
  model_path: "yolo-models/yolov8n-face.pt"
  # Confiança mínima para considerar uma detecção válida
  confidence_threshold: 0.1
  # IOU threshold para NMS (Non-Maximum Suppression)
  iou_threshold: 0.55

# Configurações de rastreamento (tracking)
tracking:
  # Modelo de rastreamento (bytetrack.yaml ou deep_sort.yaml)
  tracker_config: "bytetrack.yaml"
  # Limite de frames sem detecção para considerar o objeto perdido
  max_age: 60
  # Limite máximo de frames por track
  max_frames: 300

# Filtros de detecção (aplicados antes de criar evento)
filter:
  # Largura mínima do bbox da detecção (em pixels)
  min_bbox_area: 100
  # Confiança mínima da detecção para criar evento
  min_confidence: 0.42

# Detecção de movimento no track
track:
  # Percentual mínimo de frames com movimento (0.0 a 1.0)
  min_movement_percentage: 0.05  # 5%
  # Limiar mínimo de variação em pixels para considerar movimento
  min_movement_pixels: 2.0

# Configurações de filas assíncronas
queues:
  # Tamanho da fila assíncrona para envios FindFace
  findface_queue_max_size: 500

# Pesos na escolha da melhor face do track
qualidade_face:
  confianca_deteccao: 3
  tamanho_bbox: 1
  face_frontal: 6

# Configurações de logging
logging:
  # Nível de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"
  # Formato das mensagens de log
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Configurações de exibição na tela
display:
  # Exibir processamento na tela
  exibir_na_tela: false

# Configurações de salvamento de imagens
storage:
  # Ativa/desativa o salvamento de imagens no disco
  save_images: false
  # Diretório de saída para as imagens
  project_dir: "./imagens/"
  # Nome do subdiretório de resultados
  results_dir: "rtsp_byte_track_results"

# Configurações de compressão de imagens
compression:
  # Qualidade de compressão JPEG para envio ao FindFace (0-100)
  jpeg_quality: 95

# Configurações do FindFace
findface:
  # Prefixo dos grupos de câmeras no FindFace
  group_prefix: "TESTE"

# Configurações TensorRT (melhor performance em GPUs NVIDIA)
tensorrt:
  # Habilita o uso de TensorRT se disponível (requer CUDA)
  enabled: false
  # Precisão: FP16 (recomendado), FP32, INT8
  precision: "FP16"
  # Workspace em GB para otimizações TensorRT (padrão: 4GB)
  workspace: 4

# Configurações OpenVINO
openvino:
  # Habilita o uso de OpenVINO se disponível
  enabled: false
  # Dispositivo OpenVINO: AUTO (seleção automática), CPU, GPU, NPU
  device: "AUTO"
  # Precisão: FP16 (recomendado), FP32, INT8
  precision: "FP16"


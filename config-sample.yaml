# config.yaml
# Otimizações de performance
performance:
  # Processa detecções a cada N frames (1 = todos os frames)
  detection_skip_frames: 2

# Configuração do modelo de detecção de faces
modelo_deteccao:
  # Caminho do modelo YOLO para detecção facial
  model_path: "yolo-models/yolov12n-face.pt"
  # Confiança mínima para considerar uma detecção válida
  confidence_threshold: 0.1
  # IOU threshold para NMS (Non-Maximum Suppression)
  iou_threshold: 0.55
  # Modelo de rastreamento (bytetrack.yaml ou deep_sort.yaml)
  tracker: "custom_track.yaml"  # Padrão "bytetrack.yaml"
  # Persistir tracks entre streams (false = reseta IDs a cada reinício)
  persist: false
  # Backend de inferência: pytorch, tensorrt ou openvino
  backend: "pytorch"
  # Precisão: FP32 ou FP16
  precision: "FP16"
  # Device para inferência: "cpu" ou "cuda:N" (ex: cuda:0, cuda:0,1)
  device: "cpu"
  # Tamanho do batch para inferência em CPU (padrão: 1)
  cpu_batch_size: 1
  # Tamanho do batch para inferência em GPU (padrão: 32)
  gpu_batch_size: 32
  # Tamanho da imagem para inferência (640 ou 1280). Maior = mais preciso mas mais lento
  image_size: 1280

# Configuração do modelo de landmarks faciais
modelo_landmark:
  # Caminho do modelo YOLO para detecção de landmarks (keypoints)
  model_path: "yolo-models/yolov8n-face.pt"
  # Confiança mínima para considerar uma detecção válida
  confidence_threshold: 0.1
  # IOU threshold para NMS (Non-Maximum Suppression)
  iou_threshold: 0.55
  # Backend de inferência: pytorch, tensorrt ou openvino
  backend: "pytorch"
  # Precisão: FP32 ou FP16
  precision: "FP16"
  # Device para inferência: "cpu" ou "cuda:N" (ex: cuda:0, cuda:0,1)
  device: "cpu"
  # Tamanho da imagem para inferência para thumbnail (32 ou 64). Maior = mais preciso mas mais lento
  image_size: 32

# Configurações de rastreamento (tracking)
tracking:
  # Modelo de rastreamento (bytetrack.yaml ou deep_sort.yaml)
  tracker_config: "bytetrack.yaml"
  # Limite de frames sem detecção para considerar o objeto perdido
  max_age: 60
  # Limite máximo de frames por track
  max_frames: 300

# Filtros de detecção (aplicados antes de criar evento)
filter:
  # Largura mínima do bbox da detecção (em pixels)
  min_bbox_area: 1000
  # Confiança mínima da detecção para criar evento
  min_confidence: 0.42

# Detecção de movimento no track
track:
  # Percentual mínimo de frames com movimento (0.0 a 1.0)
  min_movement_percentage: 0.05  # 5%
  # Limiar mínimo de variação em pixels para considerar movimento
  min_movement_pixels: 2.0

# Configurações de filas assíncronas
queues:
  # Tamanho da fila assíncrona para envios FindFace
  findface_queue_max_size: 500

# Pesos na escolha da melhor face do track
qualidade_face:
  confianca_deteccao: 3
  tamanho_bbox: 1
  face_frontal: 6

# Configurações de logging
logging:
  # Nível de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"
  # Formato das mensagens de log
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Configurações de exibição na tela
display:
  # Exibir processamento na tela
  exibir_na_tela: false

# Configurações de salvamento de imagens
storage:
  # Ativa/desativa o salvamento de imagens no disco
  save_images: false
  # Diretório de saída para as imagens
  project_dir: "./imagens/"
  # Nome do subdiretório de resultados
  results_dir: "rtsp_byte_track_results"

# Configurações de compressão de imagens
compression:
  # Qualidade de compressão JPEG para envio ao FindFace (0-100)
  jpeg_quality: 95

# Configurações do FindFace
findface:
  # Prefixo dos grupos de câmeras no FindFace
  group_prefix: "TESTE"
